<!-- Add Trip row -->
<div style="margin:12px 0; display:flex; gap:8px; align-items:center;">
  <input placeholder="Title" [(ngModel)]="addForm.title" style="min-width:180px;">
  <input placeholder="Location" [(ngModel)]="addForm.location" style="min-width:140px;">
  <input placeholder="Description" [(ngModel)]="addForm.description" style="flex:1;">
  <input type="number" placeholder="Price" [(ngModel)]="addForm.price" style="min-width:80px;">
  <input placeholder="Date (optional, YYYY-MM-DD)" [(ngModel)]="addForm.date" style="min-width:150px;">
  <button (click)="add()">Add Trip</button>
</div>

<!-- Trips table -->
<table border="1" cellspacing="0" cellpadding="6" style="min-width:760px;">
  <tr>
    <th>Title</th>
    <th>Location</th>
    <th>Description</th>
    <th>Price</th>
    <th>Actions</th>
  </tr>

  <tr *ngFor="let t of trips">
    <!-- read-only row -->
    <ng-container *ngIf="editingId !== t['_id']; else editRow">
      <td><strong>{{ t.title || 'Untitled Trip' }}</strong></td>
      <td>{{ t['location'] || '-' }}</td>
      <td>{{ t.description || '-' }}</td>
      <td>${{ t.price || 0 }}</td>
      <td>
        <button (click)="startEdit(t)">Edit</button>
        <button (click)="remove(t)">Delete</button>
      </td>
    </ng-container>

    <!-- editing row -->
    <ng-template #editRow>
      <td><input [(ngModel)]="editForm.title" placeholder="Title"></td>
      <td><input [(ngModel)]="editForm['location']" placeholder="Location"></td>
      <td><input [(ngModel)]="editForm.description" placeholder="Description" style="width:320px;"></td>
      <td><input type="number" [(ngModel)]="editForm.price" style="width:90px;"></td>
      <td>
        <button (click)="saveEdit()">Save</button>
        <button (click)="cancelEdit()">Cancel</button>
      </td>
    </ng-template>
  </tr>
</table>
